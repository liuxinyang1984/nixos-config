
user nginx;   # 设置 Nginx 工作进程的用户
worker_processes auto;  # 工作进程数，通常设置为 auto 自动检测

events {
    worker_connections 1024;  # 每个工作进程最大连接数
}

http {
    include       /etc/nginx/mime.types;  # 加载 MIME 类型
    default_type  application/octet-stream;  # 默认文件类型

    log_format  main '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';
    access_log  /var/log/nginx/access.log main;  # 访问日志文件

    sendfile on;  # 启用 sendfile 用于高效的文件传输
    tcp_nopush on;  # 提高性能，特别是对于大文件传输
    tcp_nodelay on;  # 对低延迟要求较高的请求启用
    keepalive_timeout 65;  # 客户端连接保持时间
    types_hash_max_size 2048;  # MIME 类型哈希表的最大大小

    include /etc/nginx/conf.d/*.conf;  # 加载 /etc/nginx/conf.d/ 目录下的配置文件
    include /etc/nginx/sites-enabled/*.conf;  # 加载 /etc/nginx/sites-enabled/ 目录下的配置文件
}

